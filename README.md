# Автоматизированная система распознавания лиц

**Выпускная квалификационная работа бакалавра**  
**Студент 4 курса очной формы обучения**  
**Направление:** 10.03.01 «Информационная безопасность»  
**Профиль:** «Безопасность компьютерных систем»  
**ОмГУ им. Ф.М. Достоевского, факультет ЦТК**  
**Дата защиты:** 1 июля 2025 года

---

## Описание

Система биометрической идентификации с функциями распознавания лиц в режиме реального времени и полным аудитом операций безопасности. Использует веб-камеру для захвата видео и библиотеку face_recognition для анализа лиц.

### Возможности

- Распознавание лиц через веб-камеру в реальном времени
- Управление базой пользователей с фотографиями
- Система аудита всех операций безопасности
- Графический интерфейс с тремя основными разделами
- Автоматическое протоколирование событий

---

## Структура проекта

```
face_recognition_system/
├── main.py                    # Запуск приложения
├── requirements.txt           # Зависимости Python
├── config/
│   └── settings.py           # Настройки системы
├── core/                     # Основная логика
│   ├── database_manager.py   # Работа с базой данных SQLite
│   ├── face_engine.py        # Алгоритмы распознавания лиц
│   └── camera_manager.py     # Управление веб-камерой
├── gui/                      # Графический интерфейс
│   ├── main_application.py   # Главное окно
│   ├── recognition_widget.py # Вкладка распознавания
│   ├── management_widget.py  # Управление пользователями
│   └── audit_widget.py       # Журнал безопасности
├── audit/                    # Система аудита
│   ├── logger.py            # Запись событий
│   └── integration.py       # Встраивание в систему
└── photos/                  # Хранение фотографий пользователей
```

### Компоненты

**Ядро системы (core):**
- `DatabaseManager` - управление базой данных пользователей
- `FaceAnalysisEngine` - распознавание лиц через нейросети
- `CameraController` - работа с веб-камерой

**Интерфейс (gui):**
- `FaceRecognitionWidget` - распознавание в реальном времени
- `UserManagementWidget` - добавление/удаление пользователей
- `SecurityAuditWidget` - просмотр журнала событий

**Аудит (audit):**
- `SecurityAuditLogger` - запись всех операций
- `SecurityAuditIntegration` - встраивание в основную систему

---

## Установка

### Требования

- Python 3.12+
- Веб-камера
- Операционная система: Windows/Linux/macOS

### Установка зависимостей

```bash
git clone https://github.com/ACTLA/my_final_face_recognition_system.git
cd face_recognition_system
pip install -r requirements.txt
```

### Запуск

```bash
python main.py
```

---

## Использование

### Первый запуск

1. Система создаст файлы баз данных `users.db` и `audit.db`
2. Создастся папка `photos/` для хранения фотографий
3. Откроется окно с тремя вкладками

### Добавление пользователя

1. Вкладка **"Управление пользователями"**
2. Заполните поля "ID пользователя" и "Имя"
3. Выберите фотографию (JPG, PNG, BMP)
4. Нажмите "Добавить пользователя"

### Распознавание

1. Вкладка **"Распознавание лиц"**
2. Кнопка "Запуск" для включения камеры
3. Станьте перед камерой
4. При распознавании появится зеленая рамка и информация о пользователе

### Аудит

Вкладка **"Журнал безопасности"** показывает:
- Статистику попыток распознавания
- Подробный журнал всех операций
- Возможность экспорта отчетов в CSV

---

## Техническая информация

### База данных

**Таблица пользователей:**
- ID, имя, путь к фото, биометрический отпечаток (128-мерный вектор)

**Таблица событий:**
- Время, тип события, пользователь, результат, точность распознавания

### Алгоритм работы

1. Захват кадра с камеры (640×480, обработка в масштабе 0.25)
2. Поиск лиц алгоритмом HOG
3. Извлечение признаков нейросетью (128 чисел на лицо)
4. Сравнение с базой по расстоянию в пространстве признаков
5. Решение о распознавании по порогу 0.6

### Настройки

Файл `config/settings.py` содержит:
```python
RECOGNITION_DELAY = 3              # Задержка между распознаваниями
UNKNOWN_FACE_DELAY = 5            # Задержка для неизвестных лиц
FACE_RECOGNITION_CONFIDENCE_THRESHOLD = 0.6  # Порог распознавания
CAMERA_WIDTH = 640                # Разрешение камеры
CAMERA_HEIGHT = 480
```

---

## Производительность

- **Точность:** 95%+ на качественных фотографиях
- **Скорость:** 30 кадров в секунду
- **База:** до 1000 пользователей
- **Время отклика:** менее 100 мс

---

## Возможные проблемы

**Камера не работает:**
- Проверьте подключение
- Закройте другие программы с камерой
- Запустите от имени администратора

**Ошибки установки:**
- Обновите pip: `pip install --upgrade pip`
- Windows: установите Visual Studio Build Tools
- Linux: `sudo apt install python3-dev cmake`

**Плохое распознавание:**
- Улучшите освещение
- Используйте четкие фотографии
- Настройте порог в файле настроек

---

## Автор

**Студент 4 курса ОмГУ им. Ф.М. Достоевского**  
**Факультет ЦТК**  
**Направление:** Информационная безопасность  
**Год:** 2025

Проект разработан для демонстрации практического применения технологий распознавания лиц в системах безопасности.