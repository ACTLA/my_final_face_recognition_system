# Автоматизированная система распознавания лиц

**Выпускная квалификационная работа бакалавра**  
**Студент 4 курса очной формы обучения**  
**Направление подготовки:** 10.03.01 «Информационная безопасность»  
**Профиль:** «Безопасность компьютерных систем»  
**Учебное заведение:** ОмГУ им. Ф.М. Достоевского, факультет ЦТК  
**Дата защиты:** 1 июля 2025 года

---

## Описание проекта

Система биометрической идентификации на основе технологий распознавания лиц с интегрированной системой аудита безопасности. Разработана в соответствии с требованиями информационной безопасности и нормативными документами Российской Федерации.

### Основные цели

- Создание надежной системы биометрической идентификации пользователей
- Обеспечение полного аудита всех операций безопасности
- Соответствие требованиям информационной безопасности
- Демонстрация практического применения технологий компьютерного зрения

### Особенности безопасности

- **Система аудита:** Полное протоколирование всех операций
- **Биометрические данные:** Безопасное хранение отпечатков лиц
- **Контроль доступа:** Временное ограничение для предотвращения атак
- **Соответствие требованиям:** ГОСТ и требования 152-ФЗ

---

## Архитектура системы

### Структура проекта

```
face_recognition_system/
├── main.py                    # Точка входа в систему
├── requirements.txt           # Зависимости проекта
├── README.md                  # Документация
│
├── config/                    # Конфигурация системы
│   ├── __init__.py
│   └── settings.py           # Центральные настройки
│
├── core/                      # Ядро системы
│   ├── __init__.py
│   ├── database_manager.py   # Управление БД пользователей
│   ├── face_engine.py        # Движок распознавания лиц
│   └── camera_manager.py     # Контроллер веб-камеры
│
├── gui/                       # Графический интерфейс
│   ├── __init__.py
│   ├── main_application.py   # Главное приложение
│   ├── recognition_widget.py # Виджет распознавания
│   ├── management_widget.py  # Управление пользователями
│   └── audit_widget.py       # Интерфейс аудита
│
├── audit/                     # Система аудита безопасности
│   ├── __init__.py
│   ├── logger.py            # Протоколирование событий
│   └── integration.py       # Интеграция с системой
│
└── photos/                   # Фотографии пользователей
    └── (создается автоматически)
```

### Основные компоненты

#### Базовые модули (core)
- **DatabaseManager:** Управление БД SQLite с биометрическими данными
- **FaceAnalysisEngine:** Движок распознавания на основе глубокого обучения
- **CameraController:** Контроллер веб-камеры с управлением ресурсами

#### Графический интерфейс (gui)
- **FaceRecognitionSystem:** Главное приложение с интерфейсом вкладок
- **FaceRecognitionWidget:** Распознавание лиц в режиме реального времени
- **UserManagementWidget:** Операции создания, чтения, обновления и удаления пользователей
- **SecurityAuditWidget:** Мониторинг безопасности

#### Система аудита (audit)
- **SecurityAuditLogger:** Всестороннее протоколирование событий
- **SecurityAuditIntegration:** Модульная интеграция системы аудита

---

## Установка и настройка

### Системные требования

- **Python:** 3.12 или выше
- **Операционная система:** Windows 10/11, macOS, Linux
- **Веб-камера:** Любая USB или встроенная камера
- **Память:** Минимум 4 ГБ ОЗУ
- **Место на диске:** 500 МБ для системы + место для фотографий

### Установка зависимостей

#### Основная установка
```bash
# Клонирование хранилища
git clone https://github.com/ACTLA/my_final_face_recognition_system.git
cd face_recognition_system

# Установка зависимостей
pip install -r requirements.txt
```

#### Установка для разных операционных систем

**Windows:**
```bash
# Может потребоваться Visual Studio Build Tools
pip install --upgrade pip
pip install cmake
pip install -r requirements.txt
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt-get update
sudo apt-get install python3-tk python3-dev cmake
pip install -r requirements.txt
```

**macOS:**
```bash
brew install cmake
pip install -r requirements.txt
```

### Запуск системы

```bash
# Запуск из корневой папки проекта
python main.py
```

---

## Руководство пользователя

### Первый запуск

1. **Проверка зависимостей:** Система автоматически проверит все необходимые библиотеки
2. **Инициализация БД:** Создаются файлы `users.db` и `audit.db`
3. **Создание папок:** Автоматически создается папка `photos/`
4. **Запуск интерфейса:** Открывается главное окно с тремя вкладками

### Управление пользователями

#### Добавление пользователя
1. Перейдите на вкладку **"Управление пользователями"**
2. Заполните поля **"ID пользователя"** и **"Имя пользователя"**
3. Нажмите **"Выбрать фото"** и выберите качественную фотографию лица
4. Нажмите **"Добавить пользователя"**

#### Требования к фотографиям
- Четкое изображение лица в анфас
- Хорошее освещение
- Один человек на фотографии
- Форматы: JPG, PNG, BMP
- Избегайте солнцезащитных очков и масок

### Распознавание лиц

1. Перейдите на вкладку **"Распознавание лиц"**
2. Нажмите **"Запуск"** для активации камеры
3. Станьте перед камерой для распознавания
4. Система автоматически определит и отобразит информацию о пользователе

#### Цветовая индикация
- **Зеленая рамка:** Успешно распознанный пользователь
- **Красная рамка:** Неизвестное лицо  
- **Желтая рамка:** Ожидание (защита от множественных срабатываний)

### Мониторинг безопасности

На вкладке **"Журнал безопасности"** доступны:

- **Статистика в режиме реального времени:** Количество попыток, успешность, последняя активность
- **Журнал событий:** Подробный протокол всех операций
- **Экспорт отчетов:** Сохранение данных в формате CSV для анализа

---

## Техническая документация

### База данных

#### Таблица `users`
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id TEXT UNIQUE NOT NULL,
    name TEXT NOT NULL,
    photo_path TEXT,
    face_encoding BLOB
);
```

#### Таблица `security_events`
```sql
CREATE TABLE security_events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    timestamp TEXT NOT NULL,
    event_type TEXT NOT NULL,
    user_id TEXT,
    result TEXT NOT NULL,
    confidence REAL
);
```

### Алгоритмы

#### Распознавание лиц
1. **Детекция:** Детектор HOG (гистограмма направленных градиентов)
2. **Извлечение признаков:** Сверточная нейронная сеть для создания 128-мерных векторов
3. **Сравнение:** Евклидово расстояние в пространстве признаков
4. **Пороговая фильтрация:** Настраиваемый порог достоверности

#### Безопасность
- **Временное ограничение:** Защита от множественных срабатываний распознавания
- **След аудита:** Неизменяемый протокол всех операций
- **Целостность данных:** Транзакционные операции с откатом

### Конфигурация

Основные настройки в `config/settings.py`:

```python
# Временные интервалы
RECOGNITION_DELAY = 3              # Задержка между распознаваниями
UNKNOWN_FACE_DELAY = 5             # Задержка для неизвестных лиц
FACE_RECOGNITION_CONFIDENCE_THRESHOLD = 0.6  # Порог уверенности

# Камера
CAMERA_WIDTH = 640                 # Ширина захвата
CAMERA_HEIGHT = 480                # Высота захвата
FRAME_SCALE = 0.25                 # Масштаб для ускорения

# Интерфейс
WINDOW_SIZE = "1200x800"           # Размер главного окна
THEME_COLOR = "#6B46C1"            # Основной цвет темы
```

---

## Тестирование

### Функциональные тесты

- **Добавление пользователей:** Проверка входных данных
- **Распознавание:** Тестирование точности с тестовым набором данных
- **Аудит:** Проверка протоколирования всех событий
- **Пользовательский интерфейс:** Отзывчивость и удобство использования

### Нагрузочные тесты

- **Производительность:** Частота кадров при различных разрешениях
- **Память:** Использование памяти при длительной работе
- **Параллельный доступ:** Работа с большой базой пользователей

### Тесты безопасности

- **Внедрение SQL:** Защита от атак внедрения
- **Обход путей:** Безопасность файловых операций
- **Защита от отказа в обслуживании:** Эффективность временного ограничения

---

## Результаты и показатели

### Показатели эффективности

- **Точность:** 95%+ на качественных фотографиях
- **Коэффициент ложных срабатываний:** < 1% при пороге 0.6
- **Скорость обработки:** 30 кадров в секунду на современном оборудовании
- **Время отклика:** < 100 мс для распознавания

### Статистика системы

- **Поддерживаемые пользователи:** До 1000 пользователей
- **Размер базы данных:** ~1 МБ на 100 пользователей
- **Хранение фотографий:** ~500 КБ на пользователя
- **Записи аудита:** ~10 КБ на 1000 событий

---

## Решение проблем

### Частые проблемы

#### Камера не запускается
```
Ошибка: "Не удалось подключиться к камере"
Решение:
1. Проверьте подключение веб-камеры
2. Закройте другие приложения, использующие камеру
3. Перезапустите приложение с правами администратора
```

#### Ошибки при установке face_recognition
```
Ошибка: "Microsoft Visual C++ 14.0 is required"
Решение:
1. Установите Visual Studio Build Tools
2. Или используйте: pip install --upgrade setuptools
3. Альтернативно: conda install -c conda-forge face_recognition
```

#### Низкое качество распознавания
```
Проблема: Частые ложные срабатывания
Решение:
1. Улучшите освещение
2. Используйте качественные фотографии для регистрации
3. Настройте FACE_RECOGNITION_CONFIDENCE_THRESHOLD
```

### Диагностика

```bash
# Проверка зависимостей
python -c "import cv2, face_recognition, PIL, numpy; print('OK')"

# Проверка камеры
python -c "import cv2; cap=cv2.VideoCapture(0); print('Camera:', cap.isOpened())"

# Проверка прав доступа
python -c "import os; print('Write access:', os.access('.', os.W_OK))"
```

---

## Соответствие нормативным требованиям

### ГОСТ Р 50739-95
- Программные средства защиты информации
- Общие требования к программным средствам защиты
- Классификация по уровням защищенности

### ГОСТ Р ИСО/МЭК 15408-1-2012  
- Критерии оценки безопасности информационных технологий
- Функциональные требования безопасности
- Требования доверия к безопасности

### Федеральный закон №152-ФЗ
- Защита персональных данных
- Требования к обработке биометрических данных
- Аудит операций с персональными данными

---

## Информация об авторе

**Студент 4 курса очной формы обучения**  
**Направление подготовки:** 10.03.01 «Информационная безопасность»  
**Профиль:** «Безопасность компьютерных систем»  
**Факультет:** ЦТК  
**Университет:** ОмГУ им. Ф.М. Достоевского  
**Год защиты ВКР:** 2025  

### Научные интересы
- Биометрические системы идентификации
- Компьютерное зрение и машинное обучение  
- Информационная безопасность
- Системы аудита и мониторинга

---

## Лицензия

Данный проект разработан в рамках выпускной квалификационной работы бакалавра и предназначен для образовательных и исследовательских целей.

**© 2025 ОмГУ им. Ф.М. Достоевского, факультет ЦТК**

---

## Планы развития

### Краткосрочные цели (версия 2.0)
- Поддержка множественных камер
- Веб-интерфейс для удаленного мониторинга  
- Программный интерфейс приложения (API) для интеграции с внешними системами
- Улучшенные алгоритмы защиты от подделки

### Долгосрочные цели (версия 3.0)
- Интеграция с LDAP/Active Directory
- Поддержка распределенного развертывания
- Машинное обучение для поведенческого анализа
- Соответствие международным стандартам (ISO 27001)

---

*Документация актуальна на момент защиты ВКР в 2025 году*